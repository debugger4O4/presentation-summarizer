package ru.debugger4o4.back;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;
import ru.debugger4o4.back.service.impl.CraftServiceImpl;

import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

import static org.junit.jupiter.api.Assertions.assertTrue;

@SpringBootTest
class BackApplicationTests {

	String technicalTask = """
			**Слайд 1**
			**Заголовок:** Реконкиста: Исторический обзор
			**Текст:** Реконкиста (исп. Reconquista, отвоевание) — длительный процесс возвращения христианами Пиренейского полуострова, захваченного мусульманами (маврами) в VIII веке. Длился около 8 веков (718–1492 гг.).
			**Картинка:** Карта Пиренейского полуострова VIII века с границами христианских и мусульманских государств.

			**Слайд 2**
			**Заголовок:** Причины Реконкисты
			**Текст:** Основные причины Реконкисты:
			- Религиозный конфликт: христианские правители стремились вернуть утраченные земли.
			- Политическая раздробленность: множество мелких княжеств, каждое из которых хотело расширить свои владения.
			- Экономические мотивы: захват новых земель позволял увеличивать ресурсы и богатство.
			**Статистика:**
			- Длительность: около 8 веков
			- Начало: 718 или 722 год
			- Окончание: 1492 год

			**Слайд 3**
			**Заголовок:** Этапы Реконкисты
			**Текст:** Основные этапы Реконкисты:
			- VIII–XI века: формирование первых христианских государств (Астурия, Леон, Наварра, Кастилия, Арагон).
			- XI–XIII века: переломный момент, ослабление мусульман после распада Кордовского халифата (1031 г.), взятие Толедо (1085 г.).
			- XIII–XV века: завоевание крупнейших мусульманских территорий (Кордова, Севилья), окончательное завоевание Гранадского эмирата (1492 г.).
			**График:** Линейный график, показывающий постепенное продвижение христианских границ на юг Пиренейского полуострова.

			**Слайд 4**
			**Заголовок:** Итоги Реконкисты
			**Текст:** Итоги Реконкисты:
			- Образование централизованных государств (Португалия, Кастилия, Арагон, Наварра).
			- Объединение кастильских и арагонских земель в Испанское королевство (династический брак Фердинанда II и Изабеллы I).
			- Изгнание мусульман и евреев, христианизация оставшихся.
			**Картинка:** Портреты Фердинанда II и Изабеллы I.
			""";

	public CraftServiceImpl craftService = new CraftServiceImpl();

	@Test
	void completeTechnicalTaskTest() {
		craftService.completeTechnicalTask(technicalTask, null);
		Path path = Paths.get("powerpoint.pptx");
		assertTrue(Files.exists(path));
	}

}

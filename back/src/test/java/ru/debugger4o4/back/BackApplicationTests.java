package ru.debugger4o4.back;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;
import ru.debugger4o4.back.service.impl.CraftServiceImpl;

import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

import static org.junit.jupiter.api.Assertions.assertTrue;

@SpringBootTest
class BackApplicationTests {

	String technicalTask = """
            **Слайд 1: Введение**

            **Название:** Реконкиста \s
            **Подзаголовок:** Длительный процесс отвоевания Пиренейского полуострова христианами \s

            **Текст:** \s
            Реконкиста — длительный процесс, длившийся почти восемь веков (718–1492 гг.), в ходе которого христианские королевства Пиренейского полуострова отвоевывали земли, захваченные мусульманами (маврами). \s

            **Картинка:** \s
            Карта Пиренейского полуострова VIII века с указанием территорий христианских и мусульманских государств.

            ---

            **Слайд 2: Причины Реконкисты**

            **Название:** Причины Реконкисты \s

            **Текст:** \s
            - **Религиозный конфликт:** Стремление христианских правителей восстановить господство на захваченных маврами территориях. \s
            - **Политическая раздробленность:** Многочисленные мелкие христианские и мусульманские княжества, стремящиеся расширить свои владения. \s
            - **Экономические мотивы:** Захват новых земель позволял увеличивать ресурсы и богатство, укрепляя военную и политическую мощь. \s

            **График:** \s
            Диаграмма, показывающая изменение территорий христианских и мусульманских государств на Пиренейском полуострове в период Реконкисты.

            ---

            **Слайд 3: Этапы Реконкисты**

            **Название:** Этапы Реконкисты \s

            **Текст:** \s
            - **VIII–XI века:** Формирование первых христианских государств (Астурия, Леон, Наварра, Кастилия, Арагон). \s
            - **X–XIII века:** Переломный момент: распад Кордовского халифата (1031 г.), захват Толедо (1085 г.). \s
            - **XIII–XV века:** Завоевание крупнейших мусульманских территорий (Кордова, Севилья, Гранада). \s

            **Картинка:** \s
            Изображение сражения христианских войск с маврами.

            ---

            **Слайд 4: Итоги Реконкисты**

            **Название:** Итоги Реконкисты \s

            **Текст:** \s
            - Образование централизованных государств (Португалия, Кастилия, Арагон, Наварра). \s
            - Объединение кастильских и арагонских земель в Испанское королевство благодаря династическому браку Фердинанда II и Изабеллы I. \s
            - Изгнание с полуострова мусульман и евреев, христианизация оставшихся. \s


            """;

	public CraftServiceImpl craftService = new CraftServiceImpl();

	@Test
	void completeTechnicalTaskTest() {
		craftService.completeTechnicalTask(technicalTask, null);
		Path path = Paths.get("powerpoint.pptx");
		assertTrue(Files.exists(path));
	}

}
